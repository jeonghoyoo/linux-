> ## 파이프
- 파이프에는 읽기 끝과 쓰기 끝이 있다. 파이프의 쓰기쪽에 기록 된 데이터는 파이프의 읽기 쪽에서 읽을 수 있다.
- 프로세스가 파이프에 쓰기를 시도하는 경우, 반대쪽 프로세스에서 파이프가 충분한 데이터를 읽을 때까지는 쓰기 동작이 완료되지 못하고 명령은 블럭된다.
- 대표적으로, 파이프를 이용하여 하나의 처리 흐름(`workflow`)을 만들 수 있다.
(ex) : `find . -name "*.o" -print0 | xargs -0 rm -rf`
<img src="./image/7.파이프와%20작업제어/1.pipe.png"/>


> ## 프로세스 대체
- `<(어떤 명령어든 사용 가능)` : () 내의 명령어가 선행되어 실행됨
- 코드의 간결성 및 직관성 / 가독성을 좋게하는 장점이 있음
<img src="./image/7.파이프와%20작업제어/2.프로세스대체_1.png"/>
  - `comm` : 두개의 비교 대상 디렉토리의 차이점을 확인할 때 유용한 명령어(=diff)
- 코드의 간결성 및 직관성 / 가독성을 좋게하는 장점이 있음
- `while read file` 이 실행되기 전 프로세스 대체가 선행되어 `file`로 전달
<img src="./image/7.파이프와%20작업제어/2.프로세스대체_2.png"/>

> ## 서브쉘
- 해당 명령어 선택 된 그룹이 프로세스의 자격으로 실행된다는 점이 기존의 인라인그룹과 차별
- `echo begin;(for i in {100..110}; do echo $i >> num100; sleep 1;done)&` : 서브쉘 명령어 앞에 `(`을 사용하는 것이 특징
<img src="./image/7.파이프와%20작업제어/3.subshell_1.png"/>

> ## 함수
- 스크립트를 작성 할 때 필요한 경우 함수를 정의하고 사용한다.
- 함수를 이용하지 않는다면, 스크립트를 포함하여 재사용하기 힘듦
- 필요한 용도에 맞춰 재사용하겠다는 의미가 있음, 가독성 또한 좋아짐
- 함수의 특징
  - 전달인자는 순서에 맞게 $1, $2로 접근 가능
  - 함수는 함수명으로 시작 할 수 도 있고, function이란 키워드를 사용 할 수 있음
  - `()`는 기본적으로 함수임을 나타내고, `()`안에는 아무런 값을 적지 않는다.
  - 함수의 시작은 `{`로 시작, 마지막은 `; }`와 같이 ;과 함께 사용
  - 함수를 이용하면 복잡도가 높은 스크립트의 경우 가독성과 재사용성을 높여준다.
<img src="./image/7.파이프와%20작업제어/4.function.png"/>

> ## shift 명령어
- 매개변수 리스트를 하나씩 자리이동하는 효과를 발생
<img src="./image/7.파이프와%20작업제어/5.shift.png"/>

> ## 작업제어
- 모든 프로세스는 `signal` 이 전달되면 해당 프로세스는 종료하도록 설계되어있는 것이 리눅스 운영체제의 기본 룰
- `&` : foreground 프로세스를 백그라운드로 실행하도록 하는 명령어
- `fg` : `&`와 반대로 background 프로세스를 foreground 프로세스로 변경
- `ctrl + c` : 프로세스 종료 signal 발생
- `ctrl + z` : 프로세스 정지 signal 발생
- `bg` : 정지된 프로세스 재실행
<img src="./image/7.파이프와%20작업제어/6.작업제어_1.png"/>

> ## 디버깅
- 스크립트 파일 내에 `set -x`를 추가함으로써 기본적인 디버깅 가능 
  - 매 라인이 실행 될 때 마다 어느 라인이 실행되었으며 실제 스크립트 내의 원문과 실행결과를 함께 출력
  <img src="./image/7.파이프와%20작업제어/7.debug_1.png"/>
- `export PS4='+$LINENO:$FUNCNAME: '` : `PS4` 환경변수의 효과에 의해 스크립트 내의 라인번호와 실제 함수라면 함수이름까지 화면에 출력 가능, (원한다면 파일명도 가능)
  <img src="./image/7.파이프와%20작업제어/7.debug_2.png"/>
- `trap '(read -p "[$LINENO] $BASH_COMMAND?")' DEBUG` : 스크립트 파일을 한 라인단위로 실행 할 수 있다.
  - 싱글스텝(single step) 디버깅에서 쓰는 용어, 코드를 한 번에 한 줄씩 실행한다는 뜻
  <img src="./image/7.파이프와%20작업제어/7.debug_3.png"/>

> ## cron 명령어
- 지정한 스크립트를 원하는 시간에 실행하게 할 수 있음, 또한 스크립트는 주기적인 실행 또한 가능
- `crontab -e` : 처음 실행한다면, 원하는 editor를 선택 할 수 있는 화면이 나오고 해당 에디터를 이용하여 입력할 수 있다.
  - `* * * * * /home/user/Desktop/myscript` : 매 분 마다 해당 스크립트가 실행
  - `*/10 * * * * /home/user/Desktop/myscript` : 매 10분 마다 해당 스크립트가 실행
  - `10 * * * * /home/user/Desktop/myscript` : 매시 10분에 마다 실행
  <img src="./image/7.파이프와%20작업제어/8.crontab.png"/>
  ㄴ 12월 1일 1시 10분 정각에 스크립트가 실행, 따라서 1년에 단 한 차례만 실행
  - `10 1 * * Mon /home/user/Desktop/myscript` : 매주 월요일 1시 10분 실행
  - `10 1 * * 1,4 /home/user/Desktop/myscript` : 월요일과 목요일 1시 10분에 실행 (월 : 1, 목 : 4)
  - `10 1 * * 1-5 /home/user/Desktop/myscript` : 월요일부터 금요일 1시 10분에 실행
- `crontab -l` : 현재 입력된 crontab 정보를 확인 할 수 있음